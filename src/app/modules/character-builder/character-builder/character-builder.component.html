<mat-drawer-container [hasBackdrop]="false" autosize>
  <mat-drawer mode="over" #drawer [position]="'end'">

    <app-build-summary></app-build-summary>
    <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>

  </mat-drawer>
  <mat-drawer-content>

    <mat-horizontal-stepper [linear]="isLinear" #stepper (selectionChange)="this.stepAdvanced($event)">
      <mat-step [stepControl]="this.cbFormService.characterBuilderForm" label="Select sources">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-source-form></app-source-form>

      </mat-step>

      <mat-step [stepControl]="this.cbFormService.characterBuilderForm" label="Name your build">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-build-basics-form></app-build-basics-form>

      </mat-step>

      <mat-step [stepControl]="this.cbFormService.characterBuilderForm" label="Generate base ability scores">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-base-ability-generator></app-base-ability-generator>

      </mat-step>

      <mat-step [stepControl]="this.cbFormService.characterBuilderForm" label="Select race">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-race-selection-form></app-race-selection-form>

      </mat-step>

      <mat-step [stepControl]="this.cbFormService.characterBuilderForm" label="Select your class levels">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-class-level-manager></app-class-level-manager>

      </mat-step>

      <mat-step [stepControl]="this.cbFormService.characterBuilderForm" label="{{ this.skillFormLabel }}">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-skill-form [step]="this.step"></app-skill-form>

      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        <p>You are now done.</p>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="stepper.reset()">Reset</button>
        </div>
      </mat-step>

      <div>
      <button mat-button matStepperPrevious>Back</button>
      <button mat-flat-button color="accent" matStepperNext>Next</button>
      </div>
    </mat-horizontal-stepper>

    <span>{{this.cbFormService.characterBuilderForm.value | json}}</span>

  </mat-drawer-content>
</mat-drawer-container>
