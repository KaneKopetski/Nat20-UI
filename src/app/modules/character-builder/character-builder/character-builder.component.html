<mat-drawer-container [hasBackdrop]="false">
  <mat-drawer mode="over" #drawer [position]="'end'">

    <app-build-summary [characterBuilderForm]="this.characterBuilderForm"></app-build-summary>
    <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>

  </mat-drawer>
  <mat-drawer-content>

    <mat-horizontal-stepper [linear]="isLinear" #stepper>
      <mat-step [stepControl]="characterBuilderForm" label="Select sources">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-source-form [characterBuilderForm]="this.characterBuilderForm"></app-source-form>

      </mat-step>

      <mat-step [stepControl]="characterBuilderForm" label="Name your build">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-build-basics-form [characterBuilderForm]="this.characterBuilderForm"></app-build-basics-form>

      </mat-step>

      <mat-step [stepControl]="characterBuilderForm" label="Generate base ability scores">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-base-ability-generator [characterBuilderForm]="this.characterBuilderForm"></app-base-ability-generator>

      </mat-step>

      <mat-step [stepControl]="characterBuilderForm" label="Select race">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-race-selection-form [characterBuilderForm]="this.characterBuilderForm"></app-race-selection-form>

      </mat-step>

      <mat-step [stepControl]="characterBuilderForm" label="Select your class levels">

        <button mat-flat-button (click)="drawer.toggle()">Toggle summary</button>
        <app-class-level-manager [data]="this.characterBuilderForm"></app-class-level-manager>

      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        <p>You are now done.</p>
        <div>
          <button mat-button matStepperPrevious>Back</button>
          <button mat-button (click)="stepper.reset()">Reset</button>
        </div>
      </mat-step>
    </mat-horizontal-stepper>

    <span>{{this.characterBuilderForm.value | json}}</span>

  </mat-drawer-content>
</mat-drawer-container>
